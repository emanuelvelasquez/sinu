@model SINU.ViewModels.PersonaFamiliaVM
@{
    ViewBag.Title = "FamiliaCUD";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@section MenuPerfil{
    @Html.Partial("_MenuPerfilPostu")
}
<link href="~/Content/CssPostulante.css" rel="stylesheet" />

<div class="row ">
    <h2 class="col-7">Familiar</h2>
    <a href="/Postulante/Index" class="btn btn-info text-center col-4">Volver hacia atras</a>
</div>
<br />
<div class="p-1 bg-white rounded shadow mb-1 " style="padding:0px !important">

    <ul id="TabGeneral" role="tablist" class="nav nav-tabs nav-pills with-arrow lined bg-dark flex-sm-row text-center" style="padding-bottom:0.2rem">

        @* PERSONA DATOS BASICOS *@
        <li class="nav-item flex-sm-fill" id="5">
            <a id="datosbasicos-tab" data-toggle="tab" href="#datosbasicos" role="tab" aria-controls="datosbasicos" aria-selected="true" class="nav-link text-uppercase font-weight-bold mr-sm-3 rounded-0 active atab">
                1° Datos Basicos
            </a>
        </li>

        @* DIA Y HORA DE ENTREVISTA EN LA DELEGACION *@
        <li class="nav-item flex-sm-fill" id="9">
            <a id="Domicilio-tab" data-toggle="tab" href="#Domicilio" role="tab" aria-controls="Domicilio" aria-selected="false" class="nav-link text-uppercase font-weight-bold mr-sm-3 rounded-0 atab">
                2° Domicilio
            </a>
        </li>

        @* DIA Y HORA DE ENTREVISTA EN LA DELEGACION *@
        <li class="nav-item flex-sm-fill" id="11">
            <a id="Estudios-tab" data-toggle="tab" href="#Estudios" role="tab" aria-controls="Estudios" aria-selected="false" class="nav-link text-uppercase font-weight-bold mr-sm-3 rounded-0 atab">
                3° Estudios
            </a>
        </li>

        @* DIA Y HORA DE ENTREVISTA EN LA DELEGACION *@
        <li class="nav-item flex-sm-fill" id="15">
            <a id="ActMilitar-tab" data-toggle="tab" href="#ActMilitar" role="tab" aria-controls="ActMilitar" aria-selected="false" class="nav-link text-uppercase font-weight-bold rounded-0 atab">
                4° Actividad Militar
            </a>
        </li>

    </ul>

    <div id="myTab2Content" class="tab-content">

        @* VISTA VPERSONA DATOS BASICOS *@

        <div id="datosbasicos" role="tabpanel" aria-labelledby="datosbasicos-tab" class="tab-pane fade px-4 py-3 show active">

         @using (Ajax.BeginForm("FamiliaCUD", "Postulante", null,
             new AjaxOptions
             {
                 HttpMethod = "POST",
                 OnSuccess = "Exito(data,status,xhr)",
                 OnFailure = "Falla",
                 //LoadingElementId="carga",
                 //LoadingElementDuration=1000,
                 //UpdateTargetId = "resultTarget"
             },
             new { id = "BeginFormDatosBasicos" }))
             {
                @Html.AntiForgeryToken()

                <div class="form-group">


                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                    <div class="form-group">
                        <div class="form-group row ">


                            <div class="col-sm-6">

                                @Html.HiddenFor(model => model.vPersona_Familiar2VM.IdFamiliar)
                                @Html.HiddenFor(model => model.vPersona_Familiar2VM.IdPersonaPostulante)
                                @Html.HiddenFor(model => model.vPersona_Familiar2VM.IdPersonaFamilia)

                                <div class="form-group">
                                    @Html.LabelFor(model => model.vPersona_Familiar2VM.Apellido, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.vPersona_Familiar2VM.Apellido, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.Apellido, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.vPersona_Familiar2VM.Nombres, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.vPersona_Familiar2VM.Nombres, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.Nombres, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.vPersona_Familiar2VM.DNI, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.vPersona_Familiar2VM.DNI, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.DNI, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.idParentesco, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.idParentesco, Model.vParentecoVM, "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.idParentesco, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.Vive, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.Vive, new SelectList(new[] { new { Value = "true", Text = "SI" }, new { Value = "false", Text = "NO" }, }, "Value", "Text", Model), "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.Vive, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.ConVive, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.ConVive, new SelectList(new[] { new { Value = "true", Text = "SI" }, new { Value = "false", Text = "NO" }, }, "Value", "Text", Model), "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.ConVive, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.IdSexo, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.IdSexo, Model.SexoVM, "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.IdSexo, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                            </div>
                            <div class="col-sm-6">
                                <div class="form-group">
                                    @Html.LabelFor(model => model.vPersona_Familiar2VM.Telefono, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.vPersona_Familiar2VM.Telefono, new { htmlAttributes = new { @class = "form-control", @placeholder = "El codigo de area sin 0", @id = "Telefono" } })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.Telefono, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.vPersona_Familiar2VM.Celular, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.vPersona_Familiar2VM.Celular, new { htmlAttributes = new { @class = "form-control", @placeholder = "El codigo de area sin 0", @id = "Celular" } })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.Celular, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(model => model.vPersona_Familiar2VM.Email, htmlAttributes: new { @class = "control-label col-md-2" })
                                    <div class="col-md-10">
                                        @Html.EditorFor(model => model.vPersona_Familiar2VM.Email, new { htmlAttributes = new { @class = "form-control" } })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.Email, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.IdEstadoCivil, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.IdEstadoCivil, Model.vEstCivilVM, "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.IdEstadoCivil, "", new { @class = "text-danger" })
                                    </div>
                                </div>
                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.IdReligion, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.IdReligion, Model.ReligionVM, "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.IdReligion, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                                <div class="form-group">
                                    @Html.LabelFor(m => m.vPersona_Familiar2VM.idTipoNacionalidad, new { @class = "col-md-6 control-label" })
                                    <div class="col-md-10">
                                        @Html.DropDownListFor(model => model.vPersona_Familiar2VM.idTipoNacionalidad, Model.TipoDeNacionalidadVm, "Seleccione una Opcion...", new { @class = "form-control selectpicker" })
                                        @Html.ValidationMessageFor(model => model.vPersona_Familiar2VM.idTipoNacionalidad, "", new { @class = "text-danger" })
                                    </div>
                                </div>



                            </div>
                            <br />
                        </div>
                        <div class="form-group row ml-3 ">
                            <input type="submit" value="Guadar Datos" class="btn btn-success m-1" id="DatosBasicosBTGuarda" />
                        </div>


                    </div>
                </div>
            }
        </div>

        <div id="Domicilio" role="tabpanel" aria-labelledby="domicilio-tab" class="tab-pane fade px-4 py-3  ">
            @Html.Action("Domicilio", "Postulante", new { ID_persona = Model.ID_PER })

        </div>
        <div id="Estudios" role="tabpanel" aria-labelledby="estudios-tab" class="tab-pane fade px-4 py-3  ">
            @Html.Action("Estudios", "Postulante", new { ID_persona = Model.ID_PER })
        </div>
        <div id="ActMilitar" role="tabpanel" aria-labelledby="ActMilitar-tab" class="tab-pane fade px-4 py-3  ">
            @Html.Action("ActMilitar", "Postulante", new { ID_persona = Model.ID_PER })
        </div>
    </div>
</div>


@*////////////////////////////////////////////////////////////////////////////////////////////*@
@*MODAL DE LA VISTA ESTUDIO, IDIOMA y ACTIVIDAD MILITAR VER SI SIRVE PARA QUE VISTAS PUEDE SERVIR*@
<div class="modal fade " id="ModalEIA" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="position:absolute !important;">
    <div class="modal-dialog modal-dialog-centered modal-lg " role="document">
        <div class="modal-content" id="ModalEIACuerpo">

            <!----------------------------------------VISTA PARCIAL PARA LA ACTULIZACION Y CREAION DE REGISTRO DE ESTUDIOS DEL POSTULANTE------------------------------------------------------>

        </div>
    </div>
</div>


<div class="modal fade" id="ModalCampos" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">Mensaje</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>Hay Campos que modifico y no los guardo. Verifique los mismos.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/Scripts/JavaScriptPostulante.js"></script>
    <script type="text/javascript">


        function Exito(response, status, xhr) {
            alert("success: " + response.success + " - " + response.msg);

        };

        function Falla(response) {
            alert("Error occured.");
        };
    </script>
}